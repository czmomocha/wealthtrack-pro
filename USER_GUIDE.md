# 📖 WealthTrack Pro 用户手册

## 目录
1. [基本概念](#基本概念)
2. [创建账户](#创建账户)
3. [添加资产](#添加资产)
4. [数据同步](#数据同步)
5. [AI分析](#ai分析)
6. [高级功能](#高级功能)

---

## 🎯 基本概念

### 账户（User）
- 代表一个独立的资产管理空间
- 例如：美股账户、A股账户、家庭储备
- 每个账户的资产互不影响

### 资产（Asset）
- 具体的投资项目
- 例如：腾讯股票、某套公寓、某笔定存

### 投资路径（Path）
- 资产的分类方式
- 预设：定期存款、股票市场、债券基金、房地产、数字货币、黄金/大宗

### 币种（Currency）
- 资产的计价货币
- 预设：CNY（人民币）、USD（美元）、HKD（港币）
- 可自定义添加其他币种

---

## 👥 创建账户

### 步骤1：添加新账户

1. 点击「总览」页面的「新增账户」按钮
2. 输入账户名称（如：美股账户）
3. 点击「确认创建」

### 步骤2：切换账户

- 在顶部的账户标签中点击对应账户
- 当前活跃账户会以蓝色高亮显示

### 步骤3：删除账户

- 点击账户标签右侧的垃圾桶图标
- 确认删除（注意：账户下的所有资产也会被删除）

**注意事项：**
- 至少保留一个账户
- 删除操作不可恢复

---

## 💰 添加资产

### 普通资产（股票、基金等）

1. 点击「添加资产」按钮
2. 填写以下信息：
   - **名称**：资产名称（如：腾讯控股）
   - **路径**：投资类型（如：股票市场）
   - **币种**：计价货币（如：HKD）
   - **金额**：持有金额（如：100000）
   - **预期年化**：预期年收益率（如：8.5）

3. 点击「保存」

### 房地产资产

房地产资产的收益由两部分组成：

1. 选择投资路径为「房地产」
2. 系统会自动显示细分字段：
   - **租金收益率**：年租金 ÷ 房产价值 × 100%
   - **估值变化率**：预期年增值率

**示例：**
```
资产名称：曼谷公寓
投资路径：房地产
币种：CNY
金额：1500000
租金收益率：4.5%
估值变化率：3.0%
总年化收益：7.5%
```

### 编辑资产

- 点击资产列表中的「编辑」图标
- 修改信息后点击「保存」

### 删除资产

- 点击资产列表中的「删除」图标
- 确认删除

---

## 🔄 数据同步

### 为什么需要同步？

- 防止数据丢失（浏览器清除缓存会导致数据丢失）
- 跨设备使用（电脑和手机共享数据）
- 换设备时快速迁移数据

### 首次备份

1. 进入「设置」页面
2. 找到「服务器数据同步」区域
3. 点击「备份当前数据」
4. 等待上传完成
5. **重要：复制并保存生成的用户ID**

**用户ID示例：**
```
a3f2c8b9e1d4f5a7
```

### 在其他设备同步

1. 在新设备打开应用
2. 进入「设置」页面
3. 在「从服务器同步」区域输入用户ID
4. 点击「同步」按钮
5. 确认覆盖本地数据

### 注意事项

- 同步会**覆盖**当前设备的所有数据
- 建议在同步前先备份当前数据
- 用户ID请妥善保管，丢失无法找回

---

## 🤖 AI分析

### 功能说明

AI分析功能使用 Google Gemini 提供智能投资建议，包括：
- 风险评估
- 币种配置分析
- 优化建议
- 未来展望

### 使用步骤

1. 确保当前账户至少有一项资产
2. 点击左侧「AI顾问」卡片中的「开始分析」按钮
3. 等待AI生成分析报告（约5-10秒）
4. 查看分析结果

### 配置要求

AI分析需要 Gemini API Key：

1. 访问 https://ai.google.dev/
2. 注册并获取免费API Key
3. 在 `.env.local` 文件中配置：
   ```
   GEMINI_API_KEY=your_api_key_here
   ```

---

## 🔧 高级功能

### 自定义币种

**添加新币种：**

1. 进入「设置」页面
2. 找到「币种汇率管理」
3. 点击「新增」
4. 填写：
   - **代码**：币种代码（如：EUR）
   - **对CNY汇率**：1单位该币种 = ? CNY

**删除币种：**
- 点击币种右侧的删除图标

**注意：**
- CNY（人民币）不可删除
- 删除币种前需先删除使用该币种的所有资产

### 自定义投资路径

**添加新路径：**

1. 进入「设置」页面
2. 找到「投资路径」
3. 点击「新增」
4. 输入路径名称（如：艺术品收藏）

**删除路径：**
- 点击路径右侧的删除图标

---

## 📊 数据可视化

### 币种占比饼图

- 展示不同币种资产的价值占比
- 所有币种统一换算为CNY进行对比
- 鼠标悬停查看详细数值

### 收益率与金额分布图

- 横向柱状图展示各投资路径
- 柱子长度：资产总额
- 数值标注：该路径的加权平均收益率

### 统计卡片

- **总资产价值**：所有资产折合CNY的总额
- **预期加权年化**：全局加权平均收益率
- **年化收益预测**：预计一年后的收益金额

---

## 🎨 界面说明

### 总览页

- 账户切换区域
- 统计卡片
- 可视化图表
- AI分析报告（如有）

### 资产列表页

- 当前账户的所有资产明细
- 支持编辑和删除操作
- 显示：名称、路径、金额、折合CNY、预期收益等

### 设置页

- 服务器数据同步
- 币种汇率管理
- 投资路径管理

---

## 💡 使用技巧

### 1. 多账户场景

**家庭财务管理：**
- 账户1：夫妻共同资产
- 账户2：个人投资账户
- 账户3：子女教育基金

**地域分散：**
- 账户1：国内资产（CNY）
- 账户2：美股投资（USD）
- 账户3：港股投资（HKD）

### 2. 房地产资产

**出租房产：**
```
金额：2000000（房产价值）
租金收益率：4.0%（年租金8万）
估值变化率：2.0%（预期增值）
```

**自住房产：**
```
金额：3000000
租金收益率：0%（无租金收入）
估值变化率：3.5%（预期增值）
```

### 3. 定期检查

建议每月更新：
- 股票资产的市值
- 汇率变动
- 调整预期收益率

---

## ❓ 常见问题

### Q1：数据会丢失吗？

**A：** 有两层保护：
1. 浏览器 `localStorage` 本地存储
2. 服务器端备份（需主动上传）

建议定期备份到服务器。

### Q2：可以导出Excel吗？

**A：** 当前版本暂不支持，已列入开发计划。

### Q3：如何修改汇率？

**A：** 
1. 进入「设置」
2. 删除旧币种
3. 重新添加新汇率的币种

### Q4：AI分析费用？

**A：** Gemini API 提供免费额度，一般个人使用足够。

### Q5：忘记用户ID怎么办？

**A：** 
- 用户ID无法找回
- 建议将ID保存在安全的地方
- 可重新备份生成新ID

---

## 📱 移动端使用

### 响应式设计

应用已适配移动端：
- 自适应布局
- 触摸优化
- 底部导航栏

### PWA支持（开发中）

未来将支持：
- 添加到主屏幕
- 离线使用
- 推送通知

---

## 🔒 隐私与安全

### 数据存储位置

- **本地**：浏览器 localStorage
- **服务器**：你自己的VPS（`user-data/` 目录）

### 数据安全

- 所有数据存储在你自己的服务器
- 不经过任何第三方服务
- 建议启用HTTPS加密传输

### 备份建议

```bash
# 在服务器定期执行备份
tar -czf backup-$(date +%Y%m%d).tar.gz ~/wealthtrack-pro/user-data/
```

---

## 📞 获取帮助

- **技术文档**：[DEPLOYMENT.md](DEPLOYMENT.md)
- **快速开始**：[QUICKSTART.md](QUICKSTART.md)
- **问题反馈**：GitHub Issues

---

**祝你财富增长！📈💰**
